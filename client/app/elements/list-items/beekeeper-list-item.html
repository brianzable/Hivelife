<dom-module id="beekeeper-list-item">
  <link rel="import" type="css" href="list-item-shared.css">
  <link rel="import" type="css" href="apiary-list-item.css">

  <template>
    <div class="layout horizontal">
      <div id="photo" class="layout vertical">
        <content select=".photo"></content>
      </div>

      <div class="layout vertical flex">
        <div class="main-text flex">
          <content select=".name"></content>
        </div>

        <div class="sub-text flex">
          <content select=".role"></content>
        </div>
      </div>

      <template id="editable" is="dom-if" if="{{editable}}">
        <div>
          <paper-button id="removeBeekeeper" on-click="_deleteBeekeeper">
            <iron-icon icon="icons:clear"></iron-icon>
          </paper-button>
        </div>
      </template>
    </div>

    <beekeeper-delete-request
      id="deleteBeekeeperRequest"
      apiary-id="{{apiaryId}}"
      beekeeper-id="{{beekeeperId}}"
      authentication-token="{{authenticationToken}}">
    </beekeeper-delete-request>
  </template>
</dom-module>

<script>
  (function () {
    Polymer({
      is: 'beekeeper-list-item',

      properties: {
        apiaryId: Number,
        beekeeperId: Number,
        authenticationToken: String,
        editable: Boolean
      },

      _deleteBeekeeper: function () {
        this.$.deleteBeekeeperRequest.send();
      }
    });
  })();
</script>
