<%= form_for([@hive, @harvest]) do |f| %>
  <% if @harvest.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@harvest.errors.count, "error") %> prohibited this harvest from being saved:</h2>

      <ul>
      <% @harvest.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
      </ul>
    </div>
  <% end %>
  <!-- Time and Date -->
  <div class="row">
    <div class="medium-12 columns">
      <%= field_set_tag 'When' do %>
        <div class="row">
          <div class="medium-6 columns">
            <%= f.label :report_date, 'Report Date' %>
            <% t = @harvest.harvested_at.nil? ? Time.zone.now : @harvest.harvested_at %>
            <div class="row">
              <div class="medium-4 small-4 columns">
                <%= f.select :month, options_for_select((1..12).map {|m| [Date::MONTHNAMES[m], m]}, selected: t.month) %>
              </div>
              <div class="medium-3 small-4 columns">
                <%= f.select :day, options_for_select((1..31).map { |m| [m]}, selected: t.day) %>
              </div>
              <div class="medium-3 small-4 columns">
                <%= f.select :year,  options_for_select(((t.year - 5)..t.year).map { |m| [m]}, selected: t.year) %>
              </div>
              <div class="medium-2 columns"></div>
            </div>
          </div>
          <div class="medium-6 columns">
            <%= f.label :harvest_time, 'Harvest Time' %>
            <div class="row">
              <div class="medium-3 small-4 columns">
                <%= f.select :hour, options_for_select((1..12).map { |m| [m]}, selected: get_hour_for_field(t)) %>
              </div>
              <div class="medium-3 small-4 columns">
                <%= f.select :minute, options_for_select((0..59).map { |m| ["%02d" % m]}, selected: get_minute_for_field(t)) %>
              </div>
              <div class="medium-3 small-4 columns">
                <%= f.select :ampm, options_for_select(['AM', 'PM'], selected: get_ampm_for_field(t)) %>
              </div>
              <div class="medium-3 columns"></div>
            </div>
          </div>
        </div>
      <% end %>
    </div>
  </div>

	<div class="row">
		<div class="medium-12 columns">
			<%= field_set_tag 'Weight' do %>
				<div class="row">
				<div class="medium-2 columns">
    			<%= f.label :honey_weight, 'Honey (lb)' %>
    			<%= f.number_field :honey_weight %>
  			</div>
  			<div class="medium-2 columns" style="float: left;">
    			<%= f.label :wax_weight, 'Wax (lb)' %>
    			<%= f.number_field :wax_weight %>
 				</div>
			</div>
			<% end %>
		</div>
	</div>
	<div class="row">
		<div class="medium-12 columns">
			<%= field_set_tag 'Notes' do %>
				<div class="row">
					<%= f.text_area :notes %>
				</div>
			<% end %>
		</div>
	</div>


  <div class="actions">
    <%= f.submit %>
  </div>
<% end %>
<%= button_to('Delete',
        hive_harvest_path(@hive, @harvest),
        method: :delete,
        :confirm => "Are you sure you want to delete this harvest?") if not @harvest.new_record? %>
